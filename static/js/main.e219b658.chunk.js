(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{178:function(e,a,t){e.exports=t(397)},199:function(e,a){},221:function(e,a){},223:function(e,a){},287:function(e,a){},397:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(71),c=t.n(l),o=t(19),i=t(60),s=t(23),u=t(25),m=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light fixed-top"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand",href:"."},r.a.createElement("img",{src:"assets/img/logo.svg",className:"logo",alt:"logo"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExampleDefault","aria-controls":"navbarsExampleDefault","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarsExampleDefault"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(u.a,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.a,{className:"nav-link",to:"/setup"},"Setup")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.a,{className:"nav-link",to:"/subdomains"},"Create subdomains")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.a,{className:"nav-link",to:"/faq"},"FAQ"))))))},d=t(398),E=t(399),f=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"footer-top"},r.a.createElement(d.a,null,r.a.createElement(E.a,null,r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("img",{src:"assets/img/powered_by_iov.svg",className:"img-fluid powered_by",alt:"powered_by"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("span",{className:"footer-title mb-3"},"What is RNS?"),r.a.createElement("p",{className:"mb-5"},"RIF Name Service provides an architecture which enables the identification of blockchain addresses by human-readable names.")),r.a.createElement("div",{className:"col-lg-3"}),r.a.createElement("div",{className:"col-lg-3"}),r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("a",{href:"https://gitter.im/rsksmart/rif-name-service",target:"_blank",rel:"noopener noreferrer"},"Gitter"),r.a.createElement("a",{href:"https://rsksamrt.github.io/rif.rns/tools/subdomain-batch",target:"_blank",rel:"noopener noreferrer"},"Docs"),r.a.createElement("a",{href:"https://github.com/rnsdomains/rns-subdomain-batch",target:"_blank",rel:"noopener noreferrer"},"Issues"))))))},b=t(40),h=t(41),p=t(44),v=t(42),g=t(26),R=t(45),O=t(403),w=t(173),y=t(400),N=t(174),_=t(404),A=function(e){function a(e){var t;return Object(b.a)(this,a),(t=Object(p.a)(this,Object(v.a)(a).call(this,e))).state={domain:""},t.handleChangeDomain=t.handleChangeDomain.bind(Object(g.a)(t)),t}return Object(R.a)(a,e),Object(h.a)(a,[{key:"handleChangeDomain",value:function(e){this.setState({domain:e.target.value})}},{key:"render",value:function(){var e=this.state.domain;return r.a.createElement(d.a,null,r.a.createElement("div",{className:"col-lg-12 text-center main-title-box"},r.a.createElement("h1",null,r.a.createElement("b",null,"RNS Subdomains")),r.a.createElement("p",null,"Use this tool to create subdomains in batch."),r.a.createElement("hr",null),r.a.createElement("h3",null,"Requirements"),r.a.createElement("a",{href:"https://chrome.google.com/webstore/detail/nifty-wallet/jbdaocneiiinmjbjlgalhcelgbejmnid",target:"_blank",rel:"noopener noreferrer"},"Nifty Wallet")," (recommended) or ",r.a.createElement("a",{href:"https://metamask.io",target:"_blank",rel:"noopener noreferrer"},"Metamask"),r.a.createElement("hr",null),"An RNS name",r.a.createElement("br",null),r.a.createElement("i",null,"Skip this if you already own one with your browser wallet."),r.a.createElement(O.a,{onSubmit:function(a){a.preventDefault(),window.location.href("https://manager.rns.rifos.org/register?name=".concat(e))}},r.a.createElement(w.a,null,r.a.createElement(y.a,null,r.a.createElement(N.a,{type:"text",onChange:this.handleChangeDomain}),r.a.createElement(y.a.Append,null,r.a.createElement(_.a,{type:"submit"},"Register"))))),r.a.createElement("hr",null),r.a.createElement(u.a,{to:"/setup"},"Setup")," your domain"))}}]),a}(n.Component),S=t(401),j=t(74),x=t.n(j),C=t(43),T=t.n(C),I=function(e){return{type:"ERROR_VALIDATE_OWNERSHIP",error:e}},k=function(e){function a(e){var t;return Object(b.a)(this,a),(t=Object(p.a)(this,Object(v.a)(a).call(this,e))).state={value:""},t.validate=t.validate.bind(Object(g.a)(t)),t.handleChangeValue=t.handleChangeValue.bind(Object(g.a)(t)),t}return Object(R.a)(a,e),Object(h.a)(a,[{key:"handleChangeValue",value:function(e){this.setState({value:e.target.value}),(0,this.props.clean)()}},{key:"validate",value:function(e){e.preventDefault();var a=this.props.validate;a(this.state.value)}},{key:"render",value:function(){var e=this.props,a=e.loading,t=e.error;return r.a.createElement(O.a,{onSubmit:this.validate},r.a.createElement(y.a,null,r.a.createElement(N.a,{type:"text",placeholder:"domain.rsk",disabled:a,onChange:this.handleChangeValue}),r.a.createElement(y.a.Append,null,r.a.createElement(_.a,{type:"submit",disabled:a},"Validate"))),a&&r.a.createElement(S.a,{variant:"grow"}),t&&r.a.createElement("small",{className:"text-danger"},t))}}]),a}(n.Component),L=Object(o.c)((function(e){return{loading:e.app.validateOwnership.loading,error:e.app.validateOwnership.error}}),(function(e){return{validate:function(a){return e(function(e){return function(a){a({type:"REQUEST_VALIDATE_OWNERSHIP"});var t,n=new(new x.a("http://localhost:7545/").eth.Contract)([{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"}],"0xf2fef6442acd56bec4554163547ae12cd563f725"),r=T.a.hash(e);return window.ethereum.enable().then((function(e){t=e[0].toLowerCase()})).then((function(){return n.methods.owner(r).call()})).then((function(n){var r=n.toLowerCase();a(r===t?function(e,a){return{type:"RECEIVE_VALIDATE_OWNERSHIP",domain:e,owner:a}}(e,r):I("Not owner"))})).catch(I)}}(a))},clean:function(){return e({type:"CLEAN_VALIDATE_OWNERSHIP"})}}}))(k),D=t(12),V=function(e){var a=e.tx;return r.a.createElement("a",{href:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_RSK_NODE:"http://localhost:7545/",REACT_APP_RNS_REGISTRY:"0xf2fef6442acd56bec4554163547ae12cd563f725",REACT_APP_BATCH_REGISTRAR:"0x3075904f070ecec71ad8f481bfaeae896c747f99"}).REACT_APP_RSK_EXPLORER,"/tx/").concat(a)},a)},P=Object(o.c)((function(e){var a=e.app;return Object(D.a)({},a.claim,{domain:a.domain,from:a.owner})}),(function(e){return{claim:function(a,t){return e(function(e,a){return function(t){t({type:"REQUEST_CALIM"});var n=new(new x.a(window.web3).eth.Contract)([{constant:!1,inputs:[{name:"node",type:"bytes32"}],name:"claim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],"0x3075904f070ecec71ad8f481bfaeae896c747f99"),r=T.a.hash(e);return n.methods.claim(r).send({from:a}).then((function(e){return t(function(e){return{type:"RECEIVE_CLAIM",tx:e}}(e))})).catch((function(e){return t(function(e){return{type:"ERROR_CLAIM",error:e}}(e))}))}}(a,t))}}}),(function(e,a,t){return Object(D.a)({},t,{},e,{claim:function(){return a.claim(e.domain,e.from)}})}))((function(e){var a=e.claim,t=e.claiming,n=e.tx,l=e.error;return r.a.createElement(O.a,{onSubmit:function(e){e.preventDefault(),a()}},!n&&r.a.createElement(w.a,null,r.a.createElement(_.a,{type:"submit",disabled:t},"Claim")),n&&r.a.createElement("small",{className:"text-success"},r.a.createElement(V,{tx:n.transactionHash})),l&&r.a.createElement("small",{className:"text-danger"},l.message))})),F=Object(o.c)((function(e){var a=e.app;return Object(D.a)({},a.transferToRegistrar,{domain:a.domain,from:a.owner})}),(function(e){return{transfer:function(a,t){return e(function(e,a){return function(t){t({type:"REQUEST_TRANSFER_TO_REGISTRAR"});var n=new(new x.a(window.web3).eth.Contract)([{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"ownerAddress",type:"address"}],name:"setOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],"0xf2fef6442acd56bec4554163547ae12cd563f725"),r=T.a.hash(e);return n.methods.setOwner(r,"0x3075904f070ecec71ad8f481bfaeae896c747f99").send({from:a}).then((function(e){return t(function(e){return{type:"RECEIVE_TRANSFER_TO_REGISTRAR",tx:e}}(e))})).catch((function(e){return t(function(e){return{type:"ERROR_TRANSFER_TO_REGISTRAR",error:e}}(e))}))}}(a,t))}}}),(function(e,a,t){return Object(D.a)({},t,{},e,{transfer:function(){return a.transfer(e.domain,e.from)}})}))((function(e){var a=e.enabled,t=e.transfer,n=e.transferring,l=e.tx,c=e.error,o=!a||n;return r.a.createElement(O.a,{onSubmit:function(e){e.preventDefault(),t()}},!l&&r.a.createElement(w.a,null,r.a.createElement(_.a,{type:"submit",className:o&&"btn-info",disabled:o},"Transfer")),l&&r.a.createElement("small",{className:"text-success"},r.a.createElement(V,{tx:l.transactionHash})),c&&r.a.createElement("small",{className:"text-danger"},c.message))})),U=Object(o.c)((function(e){var a=e.app;return{domain:a.domain,claimed:!!a.claim.tx,transferred:!!a.transferToRegistrar.tx}}))((function(e){var a=e.domain,t=e.claimed,n=e.transferred;return r.a.createElement(d.a,null,r.a.createElement("div",{className:"col-lg-12 text-center main-title-box"},r.a.createElement("h1",null,r.a.createElement("b",null,"Setup")),a?r.a.createElement("h3",null,a):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Authenticate your domain"),r.a.createElement(L,null),r.a.createElement("i",null,"Check the domain you will use to register subdomains of.")),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("p",null,"Now you have to execute 2 transactions. You need to do this just once."),r.a.createElement("p",null,"Claim your domain in the batch registrar contract."),r.a.createElement(P,null),r.a.createElement("p",null,"Transfer ownership to Subdomain Registrar."),r.a.createElement(F,{enabled:t}),r.a.createElement("i",null,"Subdomain Registrar will sponsor your domain momentarily to register subdomains in batch.")),a&&n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("p",null,"Please"," ",r.a.createElement(u.a,{to:"/subdomains"},"validate your csv files")," ","before executing any registration."))))})),H=t(177),M=t(402),W=t(175),G=t.n(W),Q=t(17),B=function(e){function a(e){var t;return Object(b.a)(this,a),(t=Object(p.a)(this,Object(v.a)(a).call(this,e))).state={validating:!1,data:null,allSolvedConflicts:null,allUnsolvedConflicts:null,parsed:null,accepted:!1},t.handleUploadFile=t.handleUploadFile.bind(Object(g.a)(t)),t.accept=t.accept.bind(Object(g.a)(t)),t}return Object(R.a)(a,e),Object(h.a)(a,[{key:"handleUploadFile",value:function(e){this.setState({validating:!0});var a=[],t=[],n=[];for(var r in e){var l=Object(H.a)(e[r],2),c=l[0],o=l[1],i={},s={};c.indexOf(" ")>=0&&(c=c.replace(/ /g,""),i.labelNoSpaces=!0),c!==c.toLowerCase()&&(c=c.toLowerCase(),i.labelToLower=!0);var u=c.indexOf("@");u>=0&&(c=c.slice(0,u),i.noMails=!0),c.indexOf("\xf1")>=0&&(c=c.replace(/(\xf1)/g,"n"),i.labelsNoEnie=!0),o=o.toLowerCase(),Object(Q.isAddress)(o)||(s.invalidAddress=!0),a.push(i),t.push(s),n.push([c,o])}this.setState({validating:!1,data:e,allSolvedConflicts:a,allUnsolvedConflicts:t,parsed:n})}},{key:"accept",value:function(){this.setState({accepted:!0})}},{key:"render",value:function(){var e=this.state,a=e.validating,t=e.data,n=e.allSolvedConflicts,l=e.allUnsolvedConflicts,c=e.parsed,o=e.accepted;return r.a.createElement(d.a,{className:"text-center"},r.a.createElement("div",{className:"col-lg-12 main-title-box"},r.a.createElement("h1",null,r.a.createElement("b",null,"Register subdomains"))),r.a.createElement("p",null,"The ",r.a.createElement("code",null,"csv")," file must include only two columns: the labels to register in the first column and the address to set in the second column."),r.a.createElement("p",null,"This app will validate all labels and addresses. Import the ",r.a.createElement("code",null,"csv")," file and validate it."),r.a.createElement(G.a,{onFileLoaded:this.handleUploadFile,disabled:a}),a&&r.a.createElement(S.a,{animation:"grow"}),!a&&c&&!o&&r.a.createElement(_.a,{onClick:this.accept},"Ok"),!a&&c&&!o&&r.a.createElement(M.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"input"),r.a.createElement("th",null,"solved conflicts"),r.a.createElement("th",null,"unsolved conflicts"),r.a.createElement("th",null,"to register"))),r.a.createElement("tbody",null,t.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,"(".concat(e[0],", ").concat(e[1],")")),r.a.createElement("td",{className:Object.keys(n[a]).length>0?"table-warning":""},r.a.createElement("p",null,function(e){var a="";return e.labelNoSpaces&&(a+="No spaces\n"),e.labelToLower&&(a+="Lower cases\n"),e.noMails&&(a+="No mails\n"),e.labelsNoEnie&&(a+="No '\xf1'\n"),a.trim()}(n[a]))),r.a.createElement("td",{className:Object.keys(l[a]).length>0?"table-error":""},r.a.createElement("p",null,function(e){var a="";return e.invalidAddress&&(a+="Invalid address\n"),a.trim()}(l[a]))),r.a.createElement("td",null,"(".concat(c[a][0],", ").concat(c[a][1],")")))})))),r.a.createElement("hr",null))}}]),a}(n.Component),q=function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"col-lg-12 text-center main-title-box"},r.a.createElement("h1",null,r.a.createElement("b",null,"FAQ"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=t(16),K=t(30),Y=t(169),X=t(176),$=(t(396),{domain:null,owner:null,validateOwnership:{enabled:!1,loading:!1,error:null},claim:{claiming:!1,tx:null,error:null},transferToRegistrar:{transferring:!1,tx:null,error:null}}),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"REQUEST_VALIDATE_OWNERSHIP":return Object(D.a)({},e,{domain:null,owner:null,validateOwnership:{loading:!0,error:null}});case"RECEIVE_VALIDATE_OWNERSHIP":return Object(D.a)({},e,{domain:a.domain,owner:a.owner,validateOwnership:{loading:!1,error:null}});case"ERROR_VALIDATE_OWNERSHIP":return Object(D.a)({},e,{domain:null,owner:null,validateOwnership:{loading:!1,error:a.error}});case"CLEAN_VALIDATE_OWNERSHIP":return Object(D.a)({},e,{domain:null,owner:null,validateOwnership:{loading:!1,error:null}});case"REQUEST_CALIM":return Object(D.a)({},e,{claim:{claiming:!0,tx:null,error:null}});case"RECEIVE_CLAIM":return Object(D.a)({},e,{claim:{claiming:!1,tx:a.tx,error:null}});case"ERROR_CLAIM":return Object(D.a)({},e,{claim:{claiming:!1,tx:null,error:a.error}});case"REQUEST_TRANSFER_TO_REGISTRAR":return Object(D.a)({},e,{transferToRegistrar:{transferring:!0,tx:null,error:null}});case"RECEIVE_TRANSFER_TO_REGISTRAR":return Object(D.a)({},e,{transferToRegistrar:{transferring:!1,tx:a.tx,error:null}});case"ERROR_TRANSFER_TO_REGISTRAR":return Object(D.a)({},e,{transferToRegistrar:{transferring:!1,tx:null,error:a.error}});default:return e}},Z=function(e){return Object(K.c)({router:Object(i.b)(e),app:z})},ee=Object(J.a)(),ae=[X.a,Object(Y.a)(ee)];var te,ne=Object(K.e)(Z(ee),te,Object(K.d)(K.a.apply(void 0,ae)));c.a.render(r.a.createElement(o.a,{store:ne},r.a.createElement(i.a,{history:ee},r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/setup",render:function(){return r.a.createElement(U,null)}}),r.a.createElement(s.a,{path:"/subdomains",render:function(){return r.a.createElement(B,null)}}),r.a.createElement(s.a,{path:"/faq",render:function(){return r.a.createElement(q,null)}}),r.a.createElement(s.a,{path:"/",render:function(){return r.a.createElement(A,null)}})),r.a.createElement(f,null))}),null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[178,1,2]]]);
//# sourceMappingURL=main.e219b658.chunk.js.map